
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3.9. Resources &#8212; Phlex 0 (a8c89b3) documentation</title>
    <link rel="stylesheet" type="text/css" href="../static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../static/phlexframework.css?v=c39e41a1" />
    <link rel="stylesheet" type="text/css" href="../static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../static/sphinx-data-viewer/jsonview.bundle.css?v=f6ef2277" />
    <link rel="stylesheet" type="text/css" href="../static/sphinx-needs/libs/html/datatables.min.css?v=4b4fd840" />
    <link rel="stylesheet" type="text/css" href="../static/sphinx-needs/common_css/need_links.css?v=2150a916" />
    <link rel="stylesheet" type="text/css" href="../static/sphinx-needs/common_css/need_toggle.css?v=5c6620df" />
    <link rel="stylesheet" type="text/css" href="../static/sphinx-needs/common_css/needstable.css?v=5e1b6797" />
    <link rel="stylesheet" type="text/css" href="../static/sphinx-needs/common_css/need_core.css?v=f5b60a78" />
    <link rel="stylesheet" type="text/css" href="../static/sphinx-needs/common_css/need_style.css?v=92936fa5" />
    <link rel="stylesheet" type="text/css" href="../static/sphinx-needs/modern.css?v=803738c0" />
    
    <script src="../static/jquery.js?v=5d32c60e"></script>
    <script src="../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../static/documentation_options.js?v=96222bb0"></script>
    <script src="../static/doctools.js?v=9bcbadda"></script>
    <script src="../static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../static/sphinx-data-viewer/jsonview.bundle.js?v=18cd53c5"></script>
    <script src="../static/sphinx-data-viewer/jsonview_loader.js?v=f7ff7e7d"></script>
    <script src="../static/sphinx-needs/libs/html/datatables.min.js?v=8a4aee21"></script>
    <script src="../static/sphinx-needs/libs/html/datatables_loader.js?v=a2cae175"></script>
    <script src="../static/sphinx-needs/libs/html/sphinx_needs_collapse.js?v=dca66431"></script>
    <script src="../static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.10. Program Configuration" href="user_configuration.html" />
    <link rel="prev" title="3.8. Data-Product Writers" href="writers.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="user_configuration.html" title="3.10. Program Configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="writers.html" title="3.8. Data-Product Writers"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Phlex 0 (a8c89b3) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../conceptual_design.html" accesskey="U"><span class="section-number">3. </span>Conceptual Design</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3.9. </span>Resources</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="resources">
<h1><span class="section-number">3.9. </span>Resources<a class="headerlink" href="#resources" title="Link to this heading">¶</a></h1>
<p>As mentioned in <a class="reference internal" href="algorithms.html#algorithms"><span class="std std-numref">Section 3.3</span></a>, the typical form of a C++ function that can be registered with the framework is:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">return_type</span><span class="w"> </span><span class="nf">function_name</span><span class="p">(</span><span class="n">P1</span><span class="p">,</span><span class="w"> </span><span class="n">Pn</span><span class="p">...,</span><span class="w"> </span><span class="n">Rm</span><span class="p">...)</span><span class="w"> </span><span class="p">[</span><span class="n">qualifiers</span><span class="p">];</span>
</pre></div>
</div>
<p>where the types <code class="code highlight c++ docutils literal highlight-c++"><span class="n">P1</span><span class="p">,</span><span class="w"> </span><span class="n">Pn</span><span class="p">...</span></code> represent data products, and the types <code class="code highlight c++ docutils literal highlight-c++"><span class="n">Rm</span><span class="p">...</span></code> represent resources.</p>
<p>Resources are used by algorithms that require access to a shared entity that is not semantically related to the data-product set hierarchy.
An example registration of an algorithm that requires both a data product and a resource is found in <a class="reference internal" href="hofs/observers.html#observers"><span class="std std-numref">Section 3.5.2</span></a>.
The details of the registration code express to the framework which arguments correspond to data products and which correspond to resources <a class="reference internal" href="../appendices/requirements.html#DUNE 52" title="DUNE 52"><em class="xref need">[DUNE 52]</em></a>.
They may be stateless objects (e.g. a resource that denotes that an algorithm requires the use of a specific thread-unsafe library) or stateful objects (e.g. a resource that denotes access to a GPU, when the platform on which the framework program is running contains several GPUs).
Neither of these examples contain mutable state.
Resources (unlike data products) may have mutable state accessible to the algorithm (e.g. a histogram instance that could be shared across multiple algorithms).
For resources that are mutable, the framework ensures that two algorithms are not interacting with the resource at the same time.
The framework is responsible for efficiently scheduling algorithms based, in part, upon the availability of resources <a class="reference internal" href="../appendices/requirements.html#DUNE 50" title="DUNE 50"><em class="xref need">[DUNE 50]</em></a>.</p>
<p>Examples of resources include:</p>
<ul class="simple">
<li><p>GPUs</p></li>
<li><p>Network connections</p></li>
<li><p>Thread-unsafe utilities</p></li>
<li><p>Inference servers</p></li>
<li><p>Database handles <a class="reference internal" href="../appendices/requirements.html#DUNE 35" title="DUNE 35"><em class="xref need">[DUNE 35]</em></a>, <a class="reference internal" href="../appendices/requirements.html#DUNE 40" title="DUNE 40"><em class="xref need">[DUNE 40]</em></a></p></li>
</ul>
<p>Whereas data products have provenance associated with them, resources do not.</p>
<section id="limited-resources">
<h2><span class="section-number">3.9.1. </span>Limited Resources<a class="headerlink" href="#limited-resources" title="Link to this heading">¶</a></h2>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Refer to <a class="reference internal" href="../appendices/requirements.html#DUNE 45" title="DUNE 45"><em class="xref need">[DUNE 45]</em></a>, <a class="reference internal" href="../appendices/requirements.html#DUNE 145" title="DUNE 145"><em class="xref need">[DUNE 145]</em></a></p>
</div>
<p>Explain what a limited resource is and why it is useful.</p>
</section>
<section id="gpus">
<h2><span class="section-number">3.9.2. </span>GPUs<a class="headerlink" href="#gpus" title="Link to this heading">¶</a></h2>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Refer to <a class="reference internal" href="../appendices/requirements.html#DUNE 54" title="DUNE 54"><em class="xref need">[DUNE 54]</em></a></p>
</div>
<p>Say what access to the GPU resource provides (perhaps sole access to the GPU hardware for the time the resource is in scope).</p>
</section>
<section id="random-number-resource">
<h2><span class="section-number">3.9.3. </span>Random Number Resource<a class="headerlink" href="#random-number-resource" title="Link to this heading">¶</a></h2>
<p>The generation of pseudorandom numbers (hereafter just <em>random numbers</em>) is a critical aspect of obtaining physics results, especially when simulating data.
Although multiple random-number generation techniques exists, the vast majority of random-number implementations used in HEP rely on stateful random-number engines, which are subject to data races in multi-threaded contexts.
To ensure reproducible data and to ensure thread-safe access to stateful random-number engines, HEP frameworks impose idiosyncratic constraints on their use.</p>
<p>DUNE has similar requirements on reproducibility of random numbers in a concurrent context <a class="reference internal" href="../appendices/requirements.html#DUNE 36" title="DUNE 36"><em class="xref need">[DUNE 36]</em></a>.
However, instead of working around the limitations of stateful random-number engines, Phlex supports a random-number generation technique specifically designed to reproduce random-numbers in a concurrent program.
Counter-based random number generators (CBRNGs) <a class="reference internal" href="#wiki-cbrng" id="id3"><span>[Wiki-CBRNG]</span></a> each contain one internal counter.</p>
</section>
<section id="user-defined-resources">
<h2><span class="section-number">3.9.4. </span>User-defined Resources<a class="headerlink" href="#user-defined-resources" title="Link to this heading">¶</a></h2>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>Refer to <a class="reference internal" href="../appendices/requirements.html#DUNE 149" title="DUNE 149"><em class="xref need">[DUNE 149]</em></a>, <a class="reference internal" href="../appendices/requirements.html#DUNE 152" title="DUNE 152"><em class="xref need">[DUNE 152]</em></a></p>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">PHLEX_REGISTER_RESOURCE</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="wiki-cbrng" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">Wiki-CBRNG</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Counter-based_random_number_generator">https://en.wikipedia.org/wiki/Counter-based_random_number_generator</a></p>
</div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../static/phlex-logo.svg" alt="Logo of Phlex"/>
            </a></p>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">3.9. Resources</a><ul>
<li><a class="reference internal" href="#limited-resources">3.9.1. Limited Resources</a></li>
<li><a class="reference internal" href="#gpus">3.9.2. GPUs</a></li>
<li><a class="reference internal" href="#random-number-resource">3.9.3. Random Number Resource</a></li>
<li><a class="reference internal" href="#user-defined-resources">3.9.4. User-defined Resources</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="writers.html"
                          title="previous chapter"><span class="section-number">3.8. </span>Data-Product Writers</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="user_configuration.html"
                          title="next chapter"><span class="section-number">3.10. </span>Program Configuration</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../sources/ch_conceptual_design/resources.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="user_configuration.html" title="3.10. Program Configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="writers.html" title="3.8. Data-Product Writers"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Phlex 0 (a8c89b3) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../conceptual_design.html" ><span class="section-number">3. </span>Conceptual Design</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3.9. </span>Resources</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Fermi Forward Discovery Group, LLC.
      Last updated on Jul 02, 2025.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>