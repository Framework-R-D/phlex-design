
<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2. Framework requirements &#8212; Phlex framework 0 (7c8bca1) documentation</title>
    <link rel="stylesheet" type="text/css" href="static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="static/phlexframework.css?v=ee8a1ce5" />
    <link rel="stylesheet" type="text/css" href="static/graphviz.css?v=4ae1632d" />
    
    <script src="static/documentation_options.js?v=8f370cc3"></script>
    <script src="static/doctools.js?v=9bcbadda"></script>
    <script src="static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Supported Platforms" href="platforms.html" />
    <link rel="prev" title="1. Definitions" href="definitions.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="platforms.html" title="3. Supported Platforms"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="definitions.html" title="1. Definitions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Phlex framework 0 (7c8bca1) documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">2. </span>Framework requirements</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="framework-requirements">
<h1><span class="section-number">2. </span>Framework requirements<a class="headerlink" href="#framework-requirements" title="Link to this heading">¶</a></h1>
<p><strong>Requirements norm</strong>: Baseline 1 (created March 03, 2025)</p>
<section id="algorithm-decomposability">
<h2><span class="section-number">2.1. </span>1 Algorithm Decomposability<a class="headerlink" href="#algorithm-decomposability" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14536">DUNE STKH #1</a></div>
<div class="line">See <a class="reference internal" href="scheduling.html#topology-of-the-data-flow-graph"><span class="std std-numref">Section 3.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall allow the execution of multiple
algorithms.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #01 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>General, Original</p></td>
</tr>
</tbody>
</table>
<section id="algorithm-communication-via-data-products">
<h3><span class="section-number">2.1.1. </span>1.1 Algorithm Communication Via Data Products<a class="headerlink" href="#algorithm-communication-via-data-products" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14847">DUNE STKH #111</a></div>
<div class="line">See <a class="reference internal" href="scheduling.html#topology-of-the-data-flow-graph"><span class="std std-numref">Section 3.1</span></a>, <a class="reference internal" href="data_organization.html#conceptual-nature"><span class="std std-numref">Section 3.2.1.1</span></a>, <a class="reference internal" href="registration.html#framework-registration"><span class="std std-numref">Section 3.4</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall mediate communication between
algorithms via data products</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>General, Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="data-product-representation">
<h2><span class="section-number">2.2. </span>2 Data Product Representation<a class="headerlink" href="#data-product-representation" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14539">DUNE STKH #2</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#structure-and-representation"><span class="std std-numref">Section 3.2.1.2</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall separate the persistent
representation of data products from their in-memory
representations as seen by algorithms.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #02 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, General, Accelerators</p></td>
</tr>
</tbody>
</table>
</section>
<section id="full-utilization-of-dune-computing-resources">
<h2><span class="section-number">2.3. </span>3 Full utilization of DUNE computing resources<a class="headerlink" href="#full-utilization-of-dune-computing-resources" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14548">DUNE STKH #8</a></p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall run on widely-used scientific
computing systems in order to fully utilize DUNE
computing resources.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #05 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>General, Original, Reproducibility</p></td>
</tr>
</tbody>
</table>
</section>
<section id="algorithm-hardware-requirements">
<h2><span class="section-number">2.4. </span>4 Algorithm hardware requirements<a class="headerlink" href="#algorithm-hardware-requirements" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14549">DUNE STKH #9</a></div>
<div class="line">See <a class="reference internal" href="registration.html#framework-registration"><span class="std std-numref">Section 3.4</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide an API that allows users
to express hardware requirements of the algorithms.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #06 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>General, Original, Reproducibility</p></td>
</tr>
</tbody>
</table>
<section id="algorithms-can-use-a-gpu">
<h3><span class="section-number">2.4.1. </span>4.1 Algorithms can use a GPU<a class="headerlink" href="#algorithms-can-use-a-gpu" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14551">DUNE STKH #11</a></p>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support running algorithms that
require a GPU.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>General, Accelerators, Reproducibility</p></td>
</tr>
</tbody>
</table>
</section>
<section id="shut-down-upon-unmet-algorithm-hardware-requirements">
<h3><span class="section-number">2.4.2. </span>4.2 Shut down upon unmet algorithm hardware requirements<a class="headerlink" href="#shut-down-upon-unmet-algorithm-hardware-requirements" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14553">DUNE STKH #13</a></p>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall shut down if the platform fails
to meet each specified hardware requirement.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>General</p></td>
</tr>
</tbody>
</table>
</section>
<section id="emit-diagnostic-upon-unmet-algorithm-hardware-requirements">
<h3><span class="section-number">2.4.3. </span>4.3 Emit diagnostic upon unmet algorithm hardware requirements<a class="headerlink" href="#emit-diagnostic-upon-unmet-algorithm-hardware-requirements" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14885">DUNE STKH #112</a></p>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall emit a diagnostic message for
each hardware requirement the platform fails to meet.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>General</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="support-for-multiple-programming-languages">
<h2><span class="section-number">2.5. </span>5 Support for multiple programming languages<a class="headerlink" href="#support-for-multiple-programming-languages" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14554">DUNE STKH #14</a></div>
<div class="line">See <a class="reference internal" href="introduction.html#programming-languages"><span class="std std-numref">Section 1.3</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the invocation of
algorithms written in multiple programming languages.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #07 from the original DUNE document.</p>
<p>If DUNE decides that additional languages should be
supported in the future, a specific requirement can
be added for that language as a sub-requirement.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, General</p></td>
</tr>
</tbody>
</table>
<section id="support-c-algorithms">
<h3><span class="section-number">2.5.1. </span>5.1 Support C++ algorithms<a class="headerlink" href="#support-c-algorithms" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14663">DUNE STKH #81</a></div>
<div class="line">See <a class="reference internal" href="introduction.html#programming-languages"><span class="std std-numref">Section 1.3</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the invocation of
algorithms written in C++.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>General</p></td>
</tr>
</tbody>
</table>
</section>
<section id="support-python-algorithms">
<h3><span class="section-number">2.5.2. </span>5.2 Support Python algorithms<a class="headerlink" href="#support-python-algorithms" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14664">DUNE STKH #82</a></div>
<div class="line">See <a class="reference internal" href="introduction.html#programming-languages"><span class="std std-numref">Section 1.3</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the invocation of
algorithms written in Python.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>General</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="provide-instructions-for-writing-algorithms-in-supported-languages">
<h2><span class="section-number">2.6. </span>6 Provide instructions for writing algorithms in supported languages<a class="headerlink" href="#provide-instructions-for-writing-algorithms-in-supported-languages" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14556">DUNE STKH #16</a></p>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework documentation shall provide
instructions for writing framework-executable
algorithms in supported languages.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Documentation</p></td>
</tr>
</tbody>
</table>
</section>
<section id="persist-user-defined-metadata">
<h2><span class="section-number">2.7. </span>7 Persist user-defined metadata<a class="headerlink" href="#persist-user-defined-metadata" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14557">DUNE STKH #17</a></p>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide user-accessible
persistence of user-defined metadata.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #08 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>General, Original</p></td>
</tr>
</tbody>
</table>
</section>
<section id="framework-shall-read-its-own-output-files">
<h2><span class="section-number">2.8. </span>8 Framework shall read its own output files<a class="headerlink" href="#framework-shall-read-its-own-output-files" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14560">DUNE STKH #19</a></p>
<div class="admonition-todo admonition" id="id7">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide the ability to read a
framework-produced file as input to a subsequent
framework job so that the physics data are equivalent
to the physics data obtained from a single execution
of the combined job.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #10 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Physics Analysis, Original</p></td>
</tr>
</tbody>
</table>
</section>
<section id="presenting-data-to-subsequent-algorithms">
<h2><span class="section-number">2.9. </span>9 Presenting data to subsequent algorithms<a class="headerlink" href="#presenting-data-to-subsequent-algorithms" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14562">DUNE STKH #20</a></div>
<div class="line">See <a class="reference internal" href="scheduling.html#topology-of-the-data-flow-graph"><span class="std std-numref">Section 3.1</span></a>, <a class="reference internal" href="data_organization.html#conceptual-nature"><span class="std std-numref">Section 3.2.1.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall present data produced by an
already executed algorithm to each subsequent,
requesting algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Physics Analysis</p></td>
</tr>
</tbody>
</table>
</section>
<section id="mix-input-streams">
<h2><span class="section-number">2.10. </span>10 Mix input streams<a class="headerlink" href="#mix-input-streams" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14563">DUNE STKH #21</a></p>
<div class="admonition-todo admonition" id="id8">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the creation of data sets
composed of data products derived from data
originating from disparate input sources.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #11 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Physics Analysis, Original</p></td>
</tr>
</tbody>
</table>
</section>
<section id="flexible-data-units">
<h2><span class="section-number">2.11. </span>11 Flexible data units<a class="headerlink" href="#flexible-data-units" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14580">DUNE STKH #22</a></p>
<div class="admonition-todo admonition" id="id9">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support flexibly defined,
context-aware processing units to address the varying
granularity necessary for processing different kinds
of data.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #12 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
<section id="definition-of-data-products">
<h3><span class="section-number">2.11.1. </span>11.1 Definition of data products<a class="headerlink" href="#definition-of-data-products" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14693">DUNE STKH #85</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-organization"><span class="std std-numref">Section 3.2</span></a>, <a class="reference internal" href="data_organization.html#defining-data-product-types"><span class="std std-numref">Section 3.2.1.3</span></a>, <a class="reference internal" href="data_organization.html#data-categories-families-and-data-product-sets"><span class="std std-numref">Section 3.2.2</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide the ability for
user-level code to define data products.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="creation-of-data-sets">
<h3><span class="section-number">2.11.2. </span>11.2 Creation of data sets<a class="headerlink" href="#creation-of-data-sets" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14696">DUNE STKH #86</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-organization"><span class="std std-numref">Section 3.2</span></a>, <a class="reference internal" href="data_organization.html#data-categories-families-and-data-product-sets"><span class="std std-numref">Section 3.2.2</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide the ability for
user-level code to create new data sets.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="definition-of-data-families">
<h3><span class="section-number">2.11.3. </span>11.3 Definition of data families<a class="headerlink" href="#definition-of-data-families" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14697">DUNE STKH #87</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-organization"><span class="std std-numref">Section 3.2</span></a>, <a class="reference internal" href="data_organization.html#data-categories-families-and-data-product-sets"><span class="std std-numref">Section 3.2.2</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide the ability for
user-level code to define data families.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="definition-of-data-family-hierarchies">
<h3><span class="section-number">2.11.4. </span>11.4 Definition of data family hierarchies<a class="headerlink" href="#definition-of-data-family-hierarchies" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14698">DUNE STKH #88</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-organization"><span class="std std-numref">Section 3.2</span></a>, <a class="reference internal" href="data_organization.html#data-categories-families-and-data-product-sets"><span class="std std-numref">Section 3.2.2</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide the ability for
user-level code to define hierarchies of data
families.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="data-product-i-o-independence">
<h2><span class="section-number">2.12. </span>12 Data product I/O independence<a class="headerlink" href="#data-product-i-o-independence" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14583">DUNE STKH #24</a></p>
<div class="admonition-todo admonition" id="id10">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support reading from disk only
the data products required by a given algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #14 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="process-collections-of-unconstrained-size">
<h2><span class="section-number">2.13. </span>13 Process collections of unconstrained size<a class="headerlink" href="#process-collections-of-unconstrained-size" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14584">DUNE STKH #25</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-categories-families-and-data-product-sets"><span class="std std-numref">Section 3.2.2</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support processing of collections
that are too large to fit into memory at one time.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This originates from ID #16 from the original DUNE
document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
<section id="read-collections-of-unconstrained-size">
<h3><span class="section-number">2.13.1. </span>13.1 Read collections of unconstrained size<a class="headerlink" href="#read-collections-of-unconstrained-size" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14592">DUNE STKH #32</a></p>
<div class="admonition-todo admonition" id="id11">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the reading of
collections too large to hold in memory.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #57 from the original DUNE document.</p>
<p>Very large data collections could be 10s of GBs in
size, and the memory budget may be a maximum of a few
GBs.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Memory management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="write-collections-of-unconstrained-size">
<h3><span class="section-number">2.13.2. </span>13.2 Write collections of unconstrained size<a class="headerlink" href="#write-collections-of-unconstrained-size" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15288">DUNE STKH #120</a></p>
<div class="admonition-todo admonition" id="id12">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the writing of
collections too large to hold in memory.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Original, Memory management</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="configuration-comparison">
<h2><span class="section-number">2.14. </span>14 Configuration comparison<a class="headerlink" href="#configuration-comparison" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14724">DUNE STKH #98</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide the ability to compare
two configurations.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="record-execution-environment">
<h2><span class="section-number">2.15. </span>15 Record execution environment<a class="headerlink" href="#record-execution-environment" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14590">DUNE STKH #30</a></p>
<div class="admonition-todo admonition" id="id13">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall record the job’s execution
environment.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #20 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
<section id="user-selectable-list-of-recordable-execution-environment-components">
<h3><span class="section-number">2.15.1. </span>15.1 User-selectable list of recordable execution environment components<a class="headerlink" href="#user-selectable-list-of-recordable-execution-environment-components" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14730">DUNE STKH #100</a></p>
<div class="admonition-todo admonition" id="id14">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide the list of recordable
components of the execution environment.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
</section>
<section id="save-user-selected-execution-environment-components">
<h3><span class="section-number">2.15.2. </span>15.2 Save user-selected execution environment components<a class="headerlink" href="#save-user-selected-execution-environment-components" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14731">DUNE STKH #101</a></p>
<div class="admonition-todo admonition" id="id15">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall save each execution-environment
description selected by the user from the
framework-provided-list.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
<section id="record-user-selected-items-from-the-shell-environment">
<h4><span class="section-number">2.15.2.1. </span>15.2.1 Record user-selected items from the shell environment<a class="headerlink" href="#record-user-selected-items-from-the-shell-environment" title="Link to this heading">¶</a></h4>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15480">DUNE STKH #123</a></p>
<div class="admonition-todo admonition" id="id16">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall record user-selected items from
the shell environment.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Provenance</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="user-provided-execution-environment-information">
<h3><span class="section-number">2.15.3. </span>15.3 User-provided execution environment information<a class="headerlink" href="#user-provided-execution-environment-information" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15482">DUNE STKH #124</a></p>
<div class="admonition-todo admonition" id="id17">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall record labelled execution
environment information provided by the user.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Provenance</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="maximum-memory-usage">
<h2><span class="section-number">2.16. </span>16 Maximum memory usage<a class="headerlink" href="#maximum-memory-usage" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14591">DUNE STKH #31</a></p>
<div class="admonition-todo admonition" id="id18">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall gracefully shut down if the
program attempts to exceed a configured memory limit.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #59 from the original DUNE document.</p>
<p>The maximum memory available is a static quantity
that can apply to (a) a job using an entire node with
all of its available RSS, and (b) a job using a
specific grid slot with a limit on the RSS.  It is
assumed that the operating system and C++/Python
runtimes are not already enforcing this limit.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Memory management, Resource management</p></td>
</tr>
</tbody>
</table>
<section id="diagnostic-message-when-exceeding-memory-limit">
<h3><span class="section-number">2.16.1. </span>16.1 Diagnostic message when exceeding memory limit<a class="headerlink" href="#diagnostic-message-when-exceeding-memory-limit" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15802">DUNE STKH #137</a></p>
<div class="admonition-todo admonition" id="id19">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall emit a diagnostic message if the
program attempts to exceed the configured maximum
memory.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Memory management, Error handling</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="unfolding-data-products">
<h2><span class="section-number">2.17. </span>17 Unfolding data products<a class="headerlink" href="#unfolding-data-products" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14593">DUNE STKH #33</a></div>
<div class="line">See <a class="reference internal" href="registration.html#partitioned-unfolds"><span class="std std-numref">Section 3.5.5</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall allow the unfolding of data
products into a sequence of finer-grained data
products.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #58 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Memory management, Original, Flexible Processing Unit
(FPU)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="access-to-external-data-sources">
<h2><span class="section-number">2.18. </span>18 Access to external data sources<a class="headerlink" href="#access-to-external-data-sources" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14595">DUNE STKH #35</a></p>
<div class="admonition-todo admonition" id="id20">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support access to external data
sources.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #47 from the original DUNE document.</p>
<p>By “external data sources,” we mean “data sources
<strong>other than</strong> framework-readable data files
containing detector readout or simulated physics
data.”</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Services</p></td>
</tr>
</tbody>
</table>
<section id="calibration-database-algorithms">
<h3><span class="section-number">2.18.1. </span>18.1 Calibration database algorithms<a class="headerlink" href="#calibration-database-algorithms" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14600">DUNE STKH #40</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-organization"><span class="std std-numref">Section 3.2</span></a>.</div>
</div>
<div class="admonition-todo admonition" id="id21">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support algorithms that provide
data from calibration databases.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #68 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Services</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="algorithm-code-versioning-and-build-information">
<h2><span class="section-number">2.19. </span>19 Algorithm code versioning and build information<a class="headerlink" href="#algorithm-code-versioning-and-build-information" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14599">DUNE STKH #39</a></p>
<div class="admonition-todo admonition" id="id22">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to record build
information, including the source code version,
associated with each algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #25 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
</section>
<section id="algorithms-independent-of-framework-interface">
<h2><span class="section-number">2.20. </span>20 Algorithms independent of framework interface<a class="headerlink" href="#algorithms-independent-of-framework-interface" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14608">DUNE STKH #43</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-categories-families-and-data-product-sets"><span class="std std-numref">Section 3.2.2</span></a>, <a class="reference internal" href="algorithms.html#algorithms"><span class="std std-numref">Section 3.3</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the registration of
algorithms that are independent of framework
interface.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #48 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Services, Original</p></td>
</tr>
</tbody>
</table>
</section>
<section id="safely-executing-thread-safe-and-non-thread-safe-algorithms">
<h2><span class="section-number">2.21. </span>21 Safely executing thread-safe and non-thread-safe algorithms<a class="headerlink" href="#safely-executing-thread-safe-and-non-thread-safe-algorithms" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14611">DUNE STKH #45</a></p>
<div class="admonition-todo admonition" id="id23">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall safely execute user algorithms
declared to be non-thread-safe along with those
declared to be thread-safe.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #26 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Concurrency and multithreading</p></td>
</tr>
</tbody>
</table>
</section>
<section id="intra-algorithm-concurrency-and-multi-threading">
<h2><span class="section-number">2.22. </span>22 Intra-algorithm concurrency and multi-threading<a class="headerlink" href="#intra-algorithm-concurrency-and-multi-threading" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14612">DUNE STKH #46</a></div>
<div class="line">See <a class="reference internal" href="subsystems/task_management.html#task-management"><span class="std std-numref">Section 4.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall allow algorithms to use the same
parallelism mechanisms the framework uses to schedule
the execution of algorithms.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #27 from the original DUNE document.</p>
<p>It is the responsibility of the algorithm author to
ensure that any parallelism libraries used can work
compatibly with those used by the framework itself.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Concurrency and multithreading</p></td>
</tr>
</tbody>
</table>
</section>
<section id="resource-specification-for-the-program">
<h2><span class="section-number">2.23. </span>23 Resource specification for the program<a class="headerlink" href="#resource-specification-for-the-program" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14613">DUNE STKH #47</a></div>
<div class="line">See <a class="reference internal" href="subsystems/configuration.html#program-resource-specification"><span class="std std-numref">Section 4.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of
resources required by the program.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #28 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Concurrency and multithreading, Resource
management</p></td>
</tr>
</tbody>
</table>
<section id="specification-of-maximum-number-of-cpu-threads">
<h3><span class="section-number">2.23.1. </span>23.1 Specification of maximum number of CPU threads<a class="headerlink" href="#specification-of-maximum-number-of-cpu-threads" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15865">DUNE STKH #146</a></p>
<div class="admonition-todo admonition" id="id24">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of the
maximum number of CPU threads permitted by the
program.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-maximum-allowed-cpu-memory">
<h3><span class="section-number">2.23.2. </span>23.2 Specification of maximum allowed CPU memory<a class="headerlink" href="#specification-of-maximum-allowed-cpu-memory" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15866">DUNE STKH #147</a></p>
<div class="admonition-todo admonition" id="id25">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of the
maximum CPU memory allowed by the program.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management, Memory management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-gpu-resources">
<h3><span class="section-number">2.23.3. </span>23.3 Specification of GPU resources<a class="headerlink" href="#specification-of-gpu-resources" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15869">DUNE STKH #148</a></p>
<div class="admonition-todo admonition" id="id26">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of GPU
resources required by the program.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-user-defined-resources">
<h3><span class="section-number">2.23.4. </span>23.4 Specification of user-defined resources<a class="headerlink" href="#specification-of-user-defined-resources" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15871">DUNE STKH #149</a></p>
<div class="admonition-todo admonition" id="id27">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of
user-defined resources required by the program.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="resource-specification-for-algorithms">
<h2><span class="section-number">2.24. </span>24 Resource specification for algorithms<a class="headerlink" href="#resource-specification-for-algorithms" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14620">DUNE STKH #52</a></p>
<div class="admonition-todo admonition" id="id28">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of
resources required by each algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #33 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Concurrency and multithreading, Resource
management</p></td>
</tr>
</tbody>
</table>
<section id="serial-access-to-a-thread-unsafe-resource">
<h3><span class="section-number">2.24.1. </span>24.1 Serial access to a thread-unsafe resource<a class="headerlink" href="#serial-access-to-a-thread-unsafe-resource" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15856">DUNE STKH #145</a></p>
<div class="admonition-todo admonition" id="id29">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall permit algorithm authors to
specify that the algorithm requires serial access to
a thread-unsafe resource.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Concurrency and multithreading, Original, Resource
management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-algorithm-s-maximum-number-of-cpu-threads">
<h3><span class="section-number">2.24.2. </span>24.2 Specification of algorithm’s maximum number of CPU threads<a class="headerlink" href="#specification-of-algorithm-s-maximum-number-of-cpu-threads" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15883">DUNE STKH #152</a></div>
<div class="line">See <a class="reference internal" href="registration.html#framework-registration"><span class="std std-numref">Section 3.4</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of the
maximum number of CPU threads permitted by the
algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-algorithm-s-cpu-memory-usage">
<h3><span class="section-number">2.24.3. </span>24.3 Specification of algorithm’s CPU memory usage<a class="headerlink" href="#specification-of-algorithm-s-cpu-memory-usage" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15889">DUNE STKH #154</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#structure-and-representation"><span class="std std-numref">Section 3.2.1.2</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of an
algorithm’s expected CPU memory usage.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management, Memory management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-algorithm-s-gpu-resources">
<h3><span class="section-number">2.24.4. </span>24.4 Specification of algorithm’s GPU resources<a class="headerlink" href="#specification-of-algorithm-s-gpu-resources" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15886">DUNE STKH #153</a></p>
<div class="admonition-todo admonition" id="id30">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of GPU
resources required by the algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management</p></td>
</tr>
</tbody>
</table>
<section id="remote-gpu-algorithm-support">
<h4><span class="section-number">2.24.4.1. </span>24.4.1 Remote GPU algorithm support<a class="headerlink" href="#remote-gpu-algorithm-support" title="Link to this heading">¶</a></h4>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14607">DUNE STKH #42</a></p>
<div class="admonition-todo admonition" id="id31">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support algorithms that perform
calculations using a remote GPU.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #70 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Services</p></td>
</tr>
</tbody>
</table>
</section>
<section id="local-gpu-algorithm-support">
<h4><span class="section-number">2.24.4.2. </span>24.4.2 Local GPU algorithm support<a class="headerlink" href="#local-gpu-algorithm-support" title="Link to this heading">¶</a></h4>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14602">DUNE STKH #41</a></p>
<div class="admonition-todo admonition" id="id32">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support algorithms that perform
calculations using a local GPU.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #69 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Services</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="specification-of-algorithm-s-user-defined-resources">
<h3><span class="section-number">2.24.5. </span>24.5 Specification of algorithm’s user-defined resources<a class="headerlink" href="#specification-of-algorithm-s-user-defined-resources" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15891">DUNE STKH #155</a></p>
<div class="admonition-todo admonition" id="id33">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable the specification of
user-defined resources required by the algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="logging-resource-usage-per-algorithm-invocation">
<h2><span class="section-number">2.25. </span>25 Logging resource usage per algorithm invocation<a class="headerlink" href="#logging-resource-usage-per-algorithm-invocation" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14614">DUNE STKH #48</a></p>
<div class="admonition-todo admonition" id="id34">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support logging the usage of a
specified resource for each algorithm using the
resource.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #29 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Concurrency and multithreading, Resource
management</p></td>
</tr>
</tbody>
</table>
<section id="elapsed-time-information">
<h3><span class="section-number">2.25.1. </span>25.1 Elapsed time information<a class="headerlink" href="#elapsed-time-information" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14629">DUNE STKH #60</a></div>
<div class="line">See <a class="reference internal" href="subsystems/monitoring.html#monitoring-and-reporting"><span class="std std-numref">Section 4.15</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to provide elapsed
time information for each algorithm executed in a
framework program.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #66 as proposed to DUNE.</p>
<p>This option is intended to capture wall-clock time
and not CPU time.  If more granular reporting of CPU
vs. IO time is required, dedicated profiling tools
like VTune or Linaro Forge should be used.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>General, Resource management</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="resource-based-algorithm-concurrency">
<h2><span class="section-number">2.26. </span>26 Resource-based algorithm concurrency<a class="headerlink" href="#resource-based-algorithm-concurrency" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14618">DUNE STKH #50</a></p>
<div class="admonition-todo admonition" id="id35">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall dynamically schedule algorithms
to execute efficiently according to the availability
of each algorithm’s required resources.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #31 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Concurrency and multithreading, Resource
management</p></td>
</tr>
</tbody>
</table>
<section id="efficient-execution-of-algorithms-requiring-access-to-a-network-resource">
<h3><span class="section-number">2.26.1. </span>26.1 Efficient execution of algorithms requiring access to a network resource<a class="headerlink" href="#efficient-execution-of-algorithms-requiring-access-to-a-network-resource" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15854">DUNE STKH #144</a></p>
<div class="admonition-todo admonition" id="id36">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall efficiently execute a graph of
algorithms where at least one algorithm requires
access to a network resource.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>An example of efficient execution is an algorithm
requiring network resource does not occupy a core
that can do other work while the algorithm “waits”
for the resource to respond.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Concurrency and multithreading, Original, Resource
management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="optimize-memory-management-for-data-products">
<h3><span class="section-number">2.26.2. </span>26.2 Optimize memory management for data products<a class="headerlink" href="#optimize-memory-management-for-data-products" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15847">DUNE STKH #142</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-product-management"><span class="std std-numref">Section 3.2.3</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall optimize the memory management of
data products.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>Optimization means making the data products
available for the shortest period of time possible
for all algorithms that require them.  The framework,
however, may need to run in series multiple
algorithms requiring those data products if those
algorithms would run out of resources if run
concurrently.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Resource management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="optimize-availability-of-external-resources">
<h3><span class="section-number">2.26.3. </span>26.3 Optimize availability of external resources<a class="headerlink" href="#optimize-availability-of-external-resources" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15848">DUNE STKH #143</a></p>
<div class="admonition-todo admonition" id="id37">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall optimize the availability of
external resources.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>Examples of external resources include local GPUs,
remote inference servers, and databases.</p>
<p>This requirement also serves as a replacement for a
former requirement: “The framework MUST be able to
broker/cache service replies that might be common to
multiple instances of algorithms (reduce load on
external service/disk/memory/network/…). E.g. a
request for a calibration constant that is common
among all FPUs in a run. Not every instance of an
algorithm should trigger an actual request to the
central database providing these.”</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Resource management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="efficient-execution-of-algorithms-with-specific-cpu-memory-requirements">
<h3><span class="section-number">2.26.4. </span>26.4 Efficient execution of algorithms with specific CPU memory requirements<a class="headerlink" href="#efficient-execution-of-algorithms-with-specific-cpu-memory-requirements" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15874">DUNE STKH #150</a></p>
<div class="admonition-todo admonition" id="id38">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall efficiently execute a graph of
algorithms where at least one algorithm specifies a
required amount of CPU memory.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management, Memory management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="efficient-execution-of-algorithms-with-specific-gpu-memory-requirements">
<h3><span class="section-number">2.26.5. </span>26.5 Efficient execution of algorithms with specific GPU memory requirements<a class="headerlink" href="#efficient-execution-of-algorithms-with-specific-gpu-memory-requirements" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15875">DUNE STKH #151</a></p>
<div class="admonition-todo admonition" id="id39">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall efficiently execute a graph of
algorithms where at least one algorithm specifies a
required amount of GPU memory.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Resource management, Memory management</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="composable-workflows-using-gpu-algorithms-and-cpu-algorithms">
<h2><span class="section-number">2.27. </span>27 Composable workflows using GPU algorithms and CPU algorithms<a class="headerlink" href="#composable-workflows-using-gpu-algorithms-and-cpu-algorithms" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14622">DUNE STKH #54</a></p>
<div class="admonition-todo admonition" id="id40">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support composable workflows that
use GPU algorithms along with CPU algorithms.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #36 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Concurrency and multithreading, Resource
management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-data-products-required-by-an-algorithm">
<h2><span class="section-number">2.28. </span>28 Specification of data products required by an algorithm<a class="headerlink" href="#specification-of-data-products-required-by-an-algorithm" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14634">DUNE STKH #65</a></div>
<div class="line">See <a class="reference internal" href="registration.html#framework-registration"><span class="std std-numref">Section 3.4</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the specification of data
products required as input by an algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #63 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Registration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-data-products-created-by-an-algorithm">
<h2><span class="section-number">2.29. </span>29 Specification of data products created by an algorithm<a class="headerlink" href="#specification-of-data-products-created-by-an-algorithm" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15897">DUNE STKH #156</a></div>
<div class="line">See <a class="reference internal" href="registration.html#framework-registration"><span class="std std-numref">Section 3.4</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the specification of data
products created as output by an algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Registration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="emit-message-describing-data-flow-of-program">
<h2><span class="section-number">2.30. </span>30 Emit message describing data flow of program<a class="headerlink" href="#emit-message-describing-data-flow-of-program" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14637">DUNE STKH #68</a></p>
<div class="admonition-todo admonition" id="id41">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to emit a
description of the data flow of a configured program
without executing the workflow.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #64 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Concurrency and multithreading</p></td>
</tr>
</tbody>
</table>
</section>
<section id="emit-message-stating-algorithm-resource-requirements">
<h2><span class="section-number">2.31. </span>31 Emit message stating algorithm resource requirements<a class="headerlink" href="#emit-message-stating-algorithm-resource-requirements" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14625">DUNE STKH #56</a></p>
<div class="admonition-todo admonition" id="id42">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to emit a message
stating the resources required by each algorithm of a
configured program without executing the workflow.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #38 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Concurrency and multithreading, Resource
management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="monitoring-global-memory-use">
<h2><span class="section-number">2.32. </span>32 Monitoring global memory use<a class="headerlink" href="#monitoring-global-memory-use" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14628">DUNE STKH #59</a></div>
<div class="line">See <a class="reference internal" href="subsystems/monitoring.html#monitoring-and-reporting"><span class="std std-numref">Section 4.15</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall be able to report the global
memory use of the framework program at user-specified
points in time.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #67 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>General, Memory management, Resource management</p></td>
</tr>
</tbody>
</table>
</section>
<section id="framework-independent-message-logging">
<h2><span class="section-number">2.33. </span>33 Framework-independent message logging<a class="headerlink" href="#framework-independent-message-logging" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14630">DUNE STKH #61</a></div>
<div class="line">See <a class="reference internal" href="subsystems/logging.html#logging"><span class="std std-numref">Section 4.16</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support a logging solution that
is usable in an algorithm without that algorithm
explicitly relying on the framework.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #65 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>General</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-validation">
<h2><span class="section-number">2.34. </span>34 Configuration validation<a class="headerlink" href="#configuration-validation" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14633">DUNE STKH #64</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall validate an algorithm’s
configuration against specifications provided at
registration time.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #42 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="algorithm-configuration-schema-availability">
<h2><span class="section-number">2.35. </span>35 Algorithm configuration schema availability<a class="headerlink" href="#algorithm-configuration-schema-availability" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14636">DUNE STKH #67</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#semantic-structure-of-the-configuration"><span class="std std-numref">Section 3.10.3</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to emit an
algorithm’s configuration schema in human-readable
form.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #43 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="one-configuration-per-framework-execution">
<h2><span class="section-number">2.36. </span>36 One configuration per framework execution<a class="headerlink" href="#one-configuration-per-framework-execution" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14638">DUNE STKH #69</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall accept exactly one configuration
per program execution.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #44 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="eager-validation-of-algorithm-configuration">
<h2><span class="section-number">2.37. </span>37 Eager validation of algorithm configuration<a class="headerlink" href="#eager-validation-of-algorithm-configuration" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14639">DUNE STKH #70</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a>, <a class="reference internal" href="user_configuration.html#semantic-structure-of-the-configuration"><span class="std std-numref">Section 3.10.3</span></a>.</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall validate the configuration of
each algorithm before that algorithm processes data.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #45 from the original DUNE document.</p>
<p>Validation includes any reading, parsing,
canonicalizing, and checking against applicable
schemata.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="framework-configuration-language">
<h2><span class="section-number">2.38. </span>38 Framework configuration language<a class="headerlink" href="#framework-configuration-language" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14641">DUNE STKH #72</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide the ability to configure
the execution of a framework program at runtime using
a human-readable language.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #60 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="i-o-plugins">
<h2><span class="section-number">2.39. </span>39 I/O plugins<a class="headerlink" href="#i-o-plugins" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14642">DUNE STKH #73</a></p>
<div class="admonition-todo admonition" id="id43">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide a public API that enables
the implementation of a concrete IO backend for a
specific persistent storage format.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #50 from the original DUNE document.</p>
<p>Data includes physics data and metadata (both
user-provided and framework metadata).</p>
<p>The goal is to enable non-framework developers to
implement an IO backend without needing to modify the
framework itself.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Data I/O layer, Original</p></td>
</tr>
</tbody>
</table>
<section id="i-o-backend-for-root">
<h3><span class="section-number">2.39.1. </span>39.1 I/O backend for ROOT<a class="headerlink" href="#i-o-backend-for-root" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14643">DUNE STKH #74</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#conceptual-nature"><span class="std std-numref">Section 3.2.1.1</span></a>.</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework ecosystem shall support a ROOT IO
backend.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #51 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Data I/O layer, Original</p></td>
</tr>
</tbody>
</table>
</section>
<section id="i-o-backend-for-hdf5">
<h3><span class="section-number">2.39.2. </span>39.2 I/O backend for HDF5<a class="headerlink" href="#i-o-backend-for-hdf5" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15838">DUNE STKH #141</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#conceptual-nature"><span class="std std-numref">Section 3.2.1.1</span></a>.</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework ecosystem shall support an HDF5 IO
backend.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Data I/O layer, Original</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="data-i-o-backward-compatibility">
<h2><span class="section-number">2.40. </span>40 Data I/O backward compatibility<a class="headerlink" href="#data-i-o-backward-compatibility" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14645">DUNE STKH #76</a></p>
<div class="admonition-todo admonition" id="id44">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework IO subsystem shall support backward
compatibility across versions, subject to policy
decisions on deprecation provided by DUNE.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #54 from the original DUNE document.</p>
<p>Backward compatibility means that new code is able to
read data produced by older versions of the
framework.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Data I/O layer, Backwards compatibility</p></td>
</tr>
</tbody>
</table>
<section id="data-product-backward-compatibility">
<h3><span class="section-number">2.40.1. </span>40.1 Data product backward compatibility<a class="headerlink" href="#data-product-backward-compatibility" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14796">DUNE STKH #106</a></p>
<div class="admonition-todo admonition" id="id45">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework’s IO subsystem shall support backward
compatibility of data products.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Data I/O layer, Backwards compatibility</p></td>
</tr>
</tbody>
</table>
</section>
<section id="metadata-backward-compatibility">
<h3><span class="section-number">2.40.2. </span>40.2 Metadata backward compatibility<a class="headerlink" href="#metadata-backward-compatibility" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14797">DUNE STKH #107</a></p>
<div class="admonition-todo admonition" id="id46">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework’s IO subsystem shall support backward
compatibility of metadata.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>Metadata here can include user-visible (including
user-provided) metadata, and framework metadata,
which may not be user-visible but is necessary for
framework operation.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Data I/O layer, Backwards compatibility</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="configurable-data-compression">
<h2><span class="section-number">2.41. </span>41 Configurable data compression<a class="headerlink" href="#configurable-data-compression" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14646">DUNE STKH #77</a></p>
<div class="admonition-todo admonition" id="id47">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework IO subsystem shall allow
user-configuration of compression settings for each
concrete IO implementation.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #55 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="user-configurable-output-file-rollover">
<h2><span class="section-number">2.42. </span>42 User-configurable output file rollover<a class="headerlink" href="#user-configurable-output-file-rollover" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14647">DUNE STKH #78</a></p>
<div class="admonition-todo admonition" id="id48">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support user-configurable
rollover of output files.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #56 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Data I/O layer</p></td>
</tr>
</tbody>
</table>
<section id="output-file-rollover-due-to-number-of-data-sets-in-data-family">
<h3><span class="section-number">2.42.1. </span>42.1 Output file rollover due to number of data sets in data family<a class="headerlink" href="#output-file-rollover-due-to-number-of-data-sets-in-data-family" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14806">DUNE STKH #109</a></p>
<div class="admonition-todo admonition" id="id49">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to rollover output
files according to a configurable limit on the number
of data sets in a user-specified data family.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>Some examples include limiting the output file to
contain data for:</p>
<ul class="simple">
<li><p>1 subrun (“subrun” is the user-specified family)</p></li>
<li><p>100 spills (“spill” is the user-specified family)</p></li>
<li><p>10 blobs (“blob” is the user-specified family)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="output-file-rollover-due-to-file-size">
<h3><span class="section-number">2.42.2. </span>42.2 Output file rollover due to file size<a class="headerlink" href="#output-file-rollover-due-to-file-size" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15826">DUNE STKH #138</a></p>
<div class="admonition-todo admonition" id="id50">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to rollover output
files according to a configurable limit on
output-file size.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="output-file-rollover-due-to-user-defined-quantities">
<h3><span class="section-number">2.42.3. </span>42.3 Output file rollover due to user-defined quantities<a class="headerlink" href="#output-file-rollover-due-to-user-defined-quantities" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15830">DUNE STKH #139</a></p>
<div class="admonition-todo admonition" id="id51">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to rollover output
files according to a configurable limit on the
aggregated value of a user-derived quantity.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>An example of an aggregated value of a user-derived
quantity is the number of protons on target (POTs).</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="output-file-rollover-due-to-file-lifetime">
<h3><span class="section-number">2.42.4. </span>42.4 Output file rollover due to file lifetime<a class="headerlink" href="#output-file-rollover-due-to-file-lifetime" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15832">DUNE STKH #140</a></p>
<div class="admonition-todo admonition" id="id52">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall have an option to rollover output
files according to a configurable limit on the time
the file has been open.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="algorithm-invocation-with-data-products-from-multiple-data-sets">
<h2><span class="section-number">2.43. </span>43 Algorithm invocation with data products from multiple data sets<a class="headerlink" href="#algorithm-invocation-with-data-products-from-multiple-data-sets" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14705">DUNE STKH #89</a></p>
<div class="admonition-todo admonition" id="id53">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall allow a single invocation of an
algorithm with data products from multiple data sets.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
<section id="algorithm-invocation-with-data-products-from-adjacent-data-sets">
<h3><span class="section-number">2.43.1. </span>43.1 Algorithm invocation with data products from adjacent data sets<a class="headerlink" href="#algorithm-invocation-with-data-products-from-adjacent-data-sets" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14713">DUNE STKH #91</a></p>
<div class="admonition-todo admonition" id="id54">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the invocation of an
algorithm with data products belonging to adjacent
data sets.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
<section id="user-defined-adjacency">
<h4><span class="section-number">2.43.1.1. </span>43.1.1 User-defined adjacency<a class="headerlink" href="#user-defined-adjacency" title="Link to this heading">¶</a></h4>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14714">DUNE STKH #92</a></p>
<div class="admonition-todo admonition" id="id55">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support user code that defines
adjacency of data sets within a data family.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="algorithm-invocation-with-data-products-from-multiple-data-families">
<h2><span class="section-number">2.44. </span>44 Algorithm invocation with data products from multiple data families<a class="headerlink" href="#algorithm-invocation-with-data-products-from-multiple-data-families" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14937">DUNE STKH #113</a></p>
<div class="admonition-todo admonition" id="id56">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall allow a single invocation of an
algorithm with data products from multiple data
families.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specification-of-algorithm-output-fpus">
<h2><span class="section-number">2.45. </span>45 Specification of algorithm output FPUs<a class="headerlink" href="#specification-of-algorithm-output-fpus" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14706">DUNE STKH #90</a></p>
<div class="admonition-todo admonition" id="id57">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the user specification of
which data family to place the data products created
by an algorithm.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>To implement this requirement, the algorithm should
not know where its created data products are
going–that is something that will be specified at
the plugin level (perhaps by configuration).</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Flexible Processing Unit (FPU)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="algorithm-data-separability">
<h2><span class="section-number">2.46. </span>46 Algorithm-Data Separability<a class="headerlink" href="#algorithm-data-separability" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14845">DUNE STKH #110</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#conceptual-nature"><span class="std std-numref">Section 3.2.1.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The data objects exchanged among algorithms shall be
separable from those algorithms.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>General</p></td>
</tr>
</tbody>
</table>
</section>
<section id="protodune-single-phase-raw-data">
<h2><span class="section-number">2.47. </span>47 ProtoDUNE single-phase raw data<a class="headerlink" href="#protodune-single-phase-raw-data" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15239">DUNE STKH #116</a></p>
<div class="admonition-todo admonition" id="id58">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework ecosystem shall support processing
ProtoDUNE single-phase raw data.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>ProtoDUNE single-phase was used in run 1.</p>
<p>For this requirement, the framework <em>ecosystem</em> is
responsible for processing run 1 data (e.g. the
framework might not read the run 1 data directly, but
a translation program might first prepare the run 1
data for reading within the framework).</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p><strong>Deferred</strong></p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Backwards compatibility, Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="protodune-dual-phase-raw-data">
<h2><span class="section-number">2.48. </span>48 ProtoDUNE dual-phase raw data<a class="headerlink" href="#protodune-dual-phase-raw-data" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15240">DUNE STKH #117</a></p>
<div class="admonition-todo admonition" id="id59">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework ecosystem shall support processing
ProtoDUNE dual-phase raw data.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>ProtoDUNE dual-phase was used in run 1.</p>
<p>For this requirement, the framework <em>ecosystem</em> is
responsible for processing run 1 data (e.g. the
framework might not read the run 1 data directly, but
a translation program might first prepare the run 1
data for reading within the framework).</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p><strong>Deferred</strong></p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Backwards compatibility, Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="protodune-ii-horizontal-drift-raw-data">
<h2><span class="section-number">2.49. </span>49 ProtoDUNE II horizontal-drift raw data<a class="headerlink" href="#protodune-ii-horizontal-drift-raw-data" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15242">DUNE STKH #118</a></p>
<div class="admonition-todo admonition" id="id60">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework ecosystem shall support processing
ProtoDUNE II horizontal-drift raw data.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Backwards compatibility, Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="protodune-ii-vertical-drift-raw-data">
<h2><span class="section-number">2.50. </span>50 ProtoDUNE II vertical-drift raw data<a class="headerlink" href="#protodune-ii-vertical-drift-raw-data" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15244">DUNE STKH #119</a></p>
<div class="admonition-todo admonition" id="id61">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework ecosystem shall support processing
ProtoDUNE II vertical-drift raw data.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Backwards compatibility, Data I/O layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="provenance-discovery">
<h2><span class="section-number">2.51. </span>51 Provenance discovery<a class="headerlink" href="#provenance-discovery" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15293">DUNE STKH #121</a></div>
<div class="line">See <a class="reference internal" href="introduction.html#framework-philosophy"><span class="std std-numref">Section 1.2</span></a>, <a class="reference internal" href="data_organization.html#conceptual-nature"><span class="std std-numref">Section 3.2.1.1</span></a>, <a class="reference internal" href="data_organization.html#data-product-management"><span class="std std-numref">Section 3.2.3</span></a>, <a class="reference internal" href="data_organization.html#data-product-identification"><span class="std std-numref">Section 3.2.4</span></a>.</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall enable users to discover the
provenance of data products.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Provenance</p></td>
</tr>
</tbody>
</table>
<section id="framework-configuration-persistency">
<h3><span class="section-number">2.51.1. </span>51.1 Framework configuration persistency<a class="headerlink" href="#framework-configuration-persistency" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14587">DUNE STKH #27</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide an option to persist the
configuration of each framework execution to the
output of that execution.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #17 from the original DUNE document.</p>
<p>This requirement is in support of documenting and
reproducing previous results.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Configuration, Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
</section>
<section id="framework-recording-of-metadata-for-reproduction-of-output-data">
<h3><span class="section-number">2.51.2. </span>51.2 Framework recording of metadata for reproduction of output data<a class="headerlink" href="#framework-recording-of-metadata-for-reproduction-of-output-data" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14588">DUNE STKH #28</a></p>
<div class="admonition-todo admonition" id="id62">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall record metadata to output
enabling the reproduction of the processing steps
used to produce the data recorded in that output.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #18 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="reproducibility-of-data-products">
<h2><span class="section-number">2.52. </span>52 Reproducibility of data products<a class="headerlink" href="#reproducibility-of-data-products" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15294">DUNE STKH #122</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#data-product-identification"><span class="std std-numref">Section 3.2.4</span></a>.</div>
</div>
<div class="admonition-todo admonition" id="id63">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the reproduction of data
products from the provenance stored in the output.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
<section id="reproducibility-with-pseudo-random-numbers">
<h3><span class="section-number">2.52.1. </span>52.1 Reproducibility with pseudo-random numbers<a class="headerlink" href="#reproducibility-with-pseudo-random-numbers" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14596">DUNE STKH #36</a></p>
<div class="admonition-todo admonition" id="id64">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide a facility to produce
random numbers enabling algorithms to create
reproducible data in concurrent contexts.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #22 from the original DUNE document.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Original, Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
</section>
<section id="independence-from-unique-hardware-characteristics">
<h3><span class="section-number">2.52.2. </span>52.2 Independence from unique hardware characteristics<a class="headerlink" href="#independence-from-unique-hardware-characteristics" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=14632">DUNE STKH #63</a></div>
<div class="line">See <a class="reference internal" href="data_organization.html#conceptual-nature"><span class="std std-numref">Section 3.2.1.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall operate independently of unique
characteristics of existing hardware.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This is ID #62 as proposed to DUNE.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Reproducibility, Provenance</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="command-line-interface-cli">
<h2><span class="section-number">2.53. </span>53 Command line interface (CLI)<a class="headerlink" href="#command-line-interface-cli" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15710">DUNE STKH #125</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall provide a command-line interface
that allows the setting of configuration parameters.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="support-local-configuration-changes">
<h2><span class="section-number">2.54. </span>54 Support local configuration changes<a class="headerlink" href="#support-local-configuration-changes" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15715">DUNE STKH #126</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support the use of local
configuration changes with respect to a separate
complete configuration to modify the execution of a
program.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-tracing">
<h2><span class="section-number">2.55. </span>55 Configuration tracing<a class="headerlink" href="#configuration-tracing" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15718">DUNE STKH #127</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework configuration system shall have an
option to provide diagnostic information for an
evaluated configuration, including origins of final
parameter values.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-language-single-point-of-maintenance">
<h2><span class="section-number">2.56. </span>56 Configuration language single point of maintenance<a class="headerlink" href="#configuration-language-single-point-of-maintenance" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15723">DUNE STKH #128</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The language used for configuring a framework program
shall include features for maintaining hierarchical
configurations from a single point of maintenance.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>This must be met by each configuration language.</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="enable-identification-of-data-sets-containing-chunked-data-products">
<h2><span class="section-number">2.57. </span>57 Enable identification of data sets containing chunked data products<a class="headerlink" href="#enable-identification-of-data-sets-containing-chunked-data-products" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15737">DUNE STKH #129</a></p>
<div class="admonition-todo admonition" id="id65">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall record metadata identifying data
sets where the framework took special measures to
process data collections of unconstrained size.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Provenance, Chunkification</p></td>
</tr>
</tbody>
</table>
</section>
<section id="thread-safe-design-for-algorithms">
<h2><span class="section-number">2.58. </span>58 Thread-safe design for algorithms<a class="headerlink" href="#thread-safe-design-for-algorithms" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15742">DUNE STKH #130</a></div>
<div class="line">See <a class="reference internal" href="functional_programming.html#functional-programming"><span class="std std-numref">Section 2.4</span></a>, <a class="reference internal" href="data_organization.html#data-product-management"><span class="std std-numref">Section 3.2.3</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall facilitate the development of
thread-safe algorithms.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Concurrency and multithreading</p></td>
</tr>
</tbody>
</table>
</section>
<section id="framework-build-flags">
<h2><span class="section-number">2.59. </span>59 Framework build flags<a class="headerlink" href="#framework-build-flags" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15744">DUNE STKH #131</a></p>
<div class="admonition-todo admonition" id="id66">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework build system shall support options that
enable debugging executed code.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Debugging</p></td>
</tr>
</tbody>
</table>
</section>
<section id="floating-point-environment">
<h2><span class="section-number">2.60. </span>60 Floating-point environment<a class="headerlink" href="#floating-point-environment" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15746">DUNE STKH #132</a></p>
<div class="admonition-todo admonition" id="id67">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall allow the per-execution setting
of the float-point environment to control the
handling of IEEE floating-point exceptions.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Reproducibility, Error handling, Debugging</p></td>
</tr>
</tbody>
</table>
</section>
<section id="composing-configurations-of-framework-components">
<h2><span class="section-number">2.61. </span>61 Composing configurations of framework components<a class="headerlink" href="#composing-configurations-of-framework-components" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15775">DUNE STKH #133</a></div>
<div class="line">See <a class="reference internal" href="user_configuration.html#mechanics-of-configuration-specification"><span class="std std-numref">Section 3.10.1</span></a></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall support executing programs
configured by composing configurations of separate
components.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="graceful-shutdown-of-framework-program">
<h2><span class="section-number">2.62. </span>62 Graceful shutdown of framework program<a class="headerlink" href="#graceful-shutdown-of-framework-program" title="Link to this heading">¶</a></h2>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15787">DUNE STKH #134</a></p>
<div class="admonition-todo admonition" id="id68">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall attempt a graceful shutdown by
default.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Notes</p></td>
<td><p>A <em>graceful shutdown</em> refers to a framework program
that completes the processing of all in-flight data,
safely closes all open input and output files, cleans
up connections to external entities (e.g. databases),
etc. before the program ends.  This ensures that no
resources are left in ill-defined states and that all
output files are readable and valid.</p>
<p>An important example of this is when a batch job
exceeds a time limit and the grid system sends a
signal to shutdown the job, which should end
gracefully.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p>Error handling</p></td>
</tr>
</tbody>
</table>
<section id="graceful-shutdown-for-uncaught-exception">
<h3><span class="section-number">2.62.1. </span>62.1 Graceful shutdown for uncaught exception<a class="headerlink" href="#graceful-shutdown-for-uncaught-exception" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15788">DUNE STKH #135</a></p>
<div class="admonition-todo admonition" id="id69">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall by default attempt a graceful
shutdown upon receiving an uncaught exception from
user algorithms.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Error handling</p></td>
</tr>
</tbody>
</table>
</section>
<section id="graceful-shutdown-for-received-signal">
<h3><span class="section-number">2.62.2. </span>62.2 Graceful shutdown for received signal<a class="headerlink" href="#graceful-shutdown-for-received-signal" title="Link to this heading">¶</a></h3>
<p>Jama Connect entry: <a class="reference external" href="https://fnal-prod.jamacloud.com/perspective.req?projectId=63&amp;docId=15789">DUNE STKH #136</a></p>
<div class="admonition-todo admonition" id="id70">
<p class="admonition-title">Todo</p>
<p>Not yet referenced in design</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Requirement</p></th>
<th class="head"><p>The framework shall by default attempt a graceful
shutdown when receiving a signal.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Status</p></td>
<td><p>Approved</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p>Error handling</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="static/phlex-logo.svg" alt="Logo of Phlex framework"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">2. Framework requirements</a><ul>
<li><a class="reference internal" href="#algorithm-decomposability">2.1. 1 Algorithm Decomposability</a><ul>
<li><a class="reference internal" href="#algorithm-communication-via-data-products">2.1.1. 1.1 Algorithm Communication Via Data Products</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-product-representation">2.2. 2 Data Product Representation</a></li>
<li><a class="reference internal" href="#full-utilization-of-dune-computing-resources">2.3. 3 Full utilization of DUNE computing resources</a></li>
<li><a class="reference internal" href="#algorithm-hardware-requirements">2.4. 4 Algorithm hardware requirements</a><ul>
<li><a class="reference internal" href="#algorithms-can-use-a-gpu">2.4.1. 4.1 Algorithms can use a GPU</a></li>
<li><a class="reference internal" href="#shut-down-upon-unmet-algorithm-hardware-requirements">2.4.2. 4.2 Shut down upon unmet algorithm hardware requirements</a></li>
<li><a class="reference internal" href="#emit-diagnostic-upon-unmet-algorithm-hardware-requirements">2.4.3. 4.3 Emit diagnostic upon unmet algorithm hardware requirements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#support-for-multiple-programming-languages">2.5. 5 Support for multiple programming languages</a><ul>
<li><a class="reference internal" href="#support-c-algorithms">2.5.1. 5.1 Support C++ algorithms</a></li>
<li><a class="reference internal" href="#support-python-algorithms">2.5.2. 5.2 Support Python algorithms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#provide-instructions-for-writing-algorithms-in-supported-languages">2.6. 6 Provide instructions for writing algorithms in supported languages</a></li>
<li><a class="reference internal" href="#persist-user-defined-metadata">2.7. 7 Persist user-defined metadata</a></li>
<li><a class="reference internal" href="#framework-shall-read-its-own-output-files">2.8. 8 Framework shall read its own output files</a></li>
<li><a class="reference internal" href="#presenting-data-to-subsequent-algorithms">2.9. 9 Presenting data to subsequent algorithms</a></li>
<li><a class="reference internal" href="#mix-input-streams">2.10. 10 Mix input streams</a></li>
<li><a class="reference internal" href="#flexible-data-units">2.11. 11 Flexible data units</a><ul>
<li><a class="reference internal" href="#definition-of-data-products">2.11.1. 11.1 Definition of data products</a></li>
<li><a class="reference internal" href="#creation-of-data-sets">2.11.2. 11.2 Creation of data sets</a></li>
<li><a class="reference internal" href="#definition-of-data-families">2.11.3. 11.3 Definition of data families</a></li>
<li><a class="reference internal" href="#definition-of-data-family-hierarchies">2.11.4. 11.4 Definition of data family hierarchies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-product-i-o-independence">2.12. 12 Data product I/O independence</a></li>
<li><a class="reference internal" href="#process-collections-of-unconstrained-size">2.13. 13 Process collections of unconstrained size</a><ul>
<li><a class="reference internal" href="#read-collections-of-unconstrained-size">2.13.1. 13.1 Read collections of unconstrained size</a></li>
<li><a class="reference internal" href="#write-collections-of-unconstrained-size">2.13.2. 13.2 Write collections of unconstrained size</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-comparison">2.14. 14 Configuration comparison</a></li>
<li><a class="reference internal" href="#record-execution-environment">2.15. 15 Record execution environment</a><ul>
<li><a class="reference internal" href="#user-selectable-list-of-recordable-execution-environment-components">2.15.1. 15.1 User-selectable list of recordable execution environment components</a></li>
<li><a class="reference internal" href="#save-user-selected-execution-environment-components">2.15.2. 15.2 Save user-selected execution environment components</a><ul>
<li><a class="reference internal" href="#record-user-selected-items-from-the-shell-environment">2.15.2.1. 15.2.1 Record user-selected items from the shell environment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#user-provided-execution-environment-information">2.15.3. 15.3 User-provided execution environment information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#maximum-memory-usage">2.16. 16 Maximum memory usage</a><ul>
<li><a class="reference internal" href="#diagnostic-message-when-exceeding-memory-limit">2.16.1. 16.1 Diagnostic message when exceeding memory limit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unfolding-data-products">2.17. 17 Unfolding data products</a></li>
<li><a class="reference internal" href="#access-to-external-data-sources">2.18. 18 Access to external data sources</a><ul>
<li><a class="reference internal" href="#calibration-database-algorithms">2.18.1. 18.1 Calibration database algorithms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#algorithm-code-versioning-and-build-information">2.19. 19 Algorithm code versioning and build information</a></li>
<li><a class="reference internal" href="#algorithms-independent-of-framework-interface">2.20. 20 Algorithms independent of framework interface</a></li>
<li><a class="reference internal" href="#safely-executing-thread-safe-and-non-thread-safe-algorithms">2.21. 21 Safely executing thread-safe and non-thread-safe algorithms</a></li>
<li><a class="reference internal" href="#intra-algorithm-concurrency-and-multi-threading">2.22. 22 Intra-algorithm concurrency and multi-threading</a></li>
<li><a class="reference internal" href="#resource-specification-for-the-program">2.23. 23 Resource specification for the program</a><ul>
<li><a class="reference internal" href="#specification-of-maximum-number-of-cpu-threads">2.23.1. 23.1 Specification of maximum number of CPU threads</a></li>
<li><a class="reference internal" href="#specification-of-maximum-allowed-cpu-memory">2.23.2. 23.2 Specification of maximum allowed CPU memory</a></li>
<li><a class="reference internal" href="#specification-of-gpu-resources">2.23.3. 23.3 Specification of GPU resources</a></li>
<li><a class="reference internal" href="#specification-of-user-defined-resources">2.23.4. 23.4 Specification of user-defined resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resource-specification-for-algorithms">2.24. 24 Resource specification for algorithms</a><ul>
<li><a class="reference internal" href="#serial-access-to-a-thread-unsafe-resource">2.24.1. 24.1 Serial access to a thread-unsafe resource</a></li>
<li><a class="reference internal" href="#specification-of-algorithm-s-maximum-number-of-cpu-threads">2.24.2. 24.2 Specification of algorithm’s maximum number of CPU threads</a></li>
<li><a class="reference internal" href="#specification-of-algorithm-s-cpu-memory-usage">2.24.3. 24.3 Specification of algorithm’s CPU memory usage</a></li>
<li><a class="reference internal" href="#specification-of-algorithm-s-gpu-resources">2.24.4. 24.4 Specification of algorithm’s GPU resources</a><ul>
<li><a class="reference internal" href="#remote-gpu-algorithm-support">2.24.4.1. 24.4.1 Remote GPU algorithm support</a></li>
<li><a class="reference internal" href="#local-gpu-algorithm-support">2.24.4.2. 24.4.2 Local GPU algorithm support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#specification-of-algorithm-s-user-defined-resources">2.24.5. 24.5 Specification of algorithm’s user-defined resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logging-resource-usage-per-algorithm-invocation">2.25. 25 Logging resource usage per algorithm invocation</a><ul>
<li><a class="reference internal" href="#elapsed-time-information">2.25.1. 25.1 Elapsed time information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resource-based-algorithm-concurrency">2.26. 26 Resource-based algorithm concurrency</a><ul>
<li><a class="reference internal" href="#efficient-execution-of-algorithms-requiring-access-to-a-network-resource">2.26.1. 26.1 Efficient execution of algorithms requiring access to a network resource</a></li>
<li><a class="reference internal" href="#optimize-memory-management-for-data-products">2.26.2. 26.2 Optimize memory management for data products</a></li>
<li><a class="reference internal" href="#optimize-availability-of-external-resources">2.26.3. 26.3 Optimize availability of external resources</a></li>
<li><a class="reference internal" href="#efficient-execution-of-algorithms-with-specific-cpu-memory-requirements">2.26.4. 26.4 Efficient execution of algorithms with specific CPU memory requirements</a></li>
<li><a class="reference internal" href="#efficient-execution-of-algorithms-with-specific-gpu-memory-requirements">2.26.5. 26.5 Efficient execution of algorithms with specific GPU memory requirements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#composable-workflows-using-gpu-algorithms-and-cpu-algorithms">2.27. 27 Composable workflows using GPU algorithms and CPU algorithms</a></li>
<li><a class="reference internal" href="#specification-of-data-products-required-by-an-algorithm">2.28. 28 Specification of data products required by an algorithm</a></li>
<li><a class="reference internal" href="#specification-of-data-products-created-by-an-algorithm">2.29. 29 Specification of data products created by an algorithm</a></li>
<li><a class="reference internal" href="#emit-message-describing-data-flow-of-program">2.30. 30 Emit message describing data flow of program</a></li>
<li><a class="reference internal" href="#emit-message-stating-algorithm-resource-requirements">2.31. 31 Emit message stating algorithm resource requirements</a></li>
<li><a class="reference internal" href="#monitoring-global-memory-use">2.32. 32 Monitoring global memory use</a></li>
<li><a class="reference internal" href="#framework-independent-message-logging">2.33. 33 Framework-independent message logging</a></li>
<li><a class="reference internal" href="#configuration-validation">2.34. 34 Configuration validation</a></li>
<li><a class="reference internal" href="#algorithm-configuration-schema-availability">2.35. 35 Algorithm configuration schema availability</a></li>
<li><a class="reference internal" href="#one-configuration-per-framework-execution">2.36. 36 One configuration per framework execution</a></li>
<li><a class="reference internal" href="#eager-validation-of-algorithm-configuration">2.37. 37 Eager validation of algorithm configuration</a></li>
<li><a class="reference internal" href="#framework-configuration-language">2.38. 38 Framework configuration language</a></li>
<li><a class="reference internal" href="#i-o-plugins">2.39. 39 I/O plugins</a><ul>
<li><a class="reference internal" href="#i-o-backend-for-root">2.39.1. 39.1 I/O backend for ROOT</a></li>
<li><a class="reference internal" href="#i-o-backend-for-hdf5">2.39.2. 39.2 I/O backend for HDF5</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-i-o-backward-compatibility">2.40. 40 Data I/O backward compatibility</a><ul>
<li><a class="reference internal" href="#data-product-backward-compatibility">2.40.1. 40.1 Data product backward compatibility</a></li>
<li><a class="reference internal" href="#metadata-backward-compatibility">2.40.2. 40.2 Metadata backward compatibility</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configurable-data-compression">2.41. 41 Configurable data compression</a></li>
<li><a class="reference internal" href="#user-configurable-output-file-rollover">2.42. 42 User-configurable output file rollover</a><ul>
<li><a class="reference internal" href="#output-file-rollover-due-to-number-of-data-sets-in-data-family">2.42.1. 42.1 Output file rollover due to number of data sets in data family</a></li>
<li><a class="reference internal" href="#output-file-rollover-due-to-file-size">2.42.2. 42.2 Output file rollover due to file size</a></li>
<li><a class="reference internal" href="#output-file-rollover-due-to-user-defined-quantities">2.42.3. 42.3 Output file rollover due to user-defined quantities</a></li>
<li><a class="reference internal" href="#output-file-rollover-due-to-file-lifetime">2.42.4. 42.4 Output file rollover due to file lifetime</a></li>
</ul>
</li>
<li><a class="reference internal" href="#algorithm-invocation-with-data-products-from-multiple-data-sets">2.43. 43 Algorithm invocation with data products from multiple data sets</a><ul>
<li><a class="reference internal" href="#algorithm-invocation-with-data-products-from-adjacent-data-sets">2.43.1. 43.1 Algorithm invocation with data products from adjacent data sets</a><ul>
<li><a class="reference internal" href="#user-defined-adjacency">2.43.1.1. 43.1.1 User-defined adjacency</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#algorithm-invocation-with-data-products-from-multiple-data-families">2.44. 44 Algorithm invocation with data products from multiple data families</a></li>
<li><a class="reference internal" href="#specification-of-algorithm-output-fpus">2.45. 45 Specification of algorithm output FPUs</a></li>
<li><a class="reference internal" href="#algorithm-data-separability">2.46. 46 Algorithm-Data Separability</a></li>
<li><a class="reference internal" href="#protodune-single-phase-raw-data">2.47. 47 ProtoDUNE single-phase raw data</a></li>
<li><a class="reference internal" href="#protodune-dual-phase-raw-data">2.48. 48 ProtoDUNE dual-phase raw data</a></li>
<li><a class="reference internal" href="#protodune-ii-horizontal-drift-raw-data">2.49. 49 ProtoDUNE II horizontal-drift raw data</a></li>
<li><a class="reference internal" href="#protodune-ii-vertical-drift-raw-data">2.50. 50 ProtoDUNE II vertical-drift raw data</a></li>
<li><a class="reference internal" href="#provenance-discovery">2.51. 51 Provenance discovery</a><ul>
<li><a class="reference internal" href="#framework-configuration-persistency">2.51.1. 51.1 Framework configuration persistency</a></li>
<li><a class="reference internal" href="#framework-recording-of-metadata-for-reproduction-of-output-data">2.51.2. 51.2 Framework recording of metadata for reproduction of output data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reproducibility-of-data-products">2.52. 52 Reproducibility of data products</a><ul>
<li><a class="reference internal" href="#reproducibility-with-pseudo-random-numbers">2.52.1. 52.1 Reproducibility with pseudo-random numbers</a></li>
<li><a class="reference internal" href="#independence-from-unique-hardware-characteristics">2.52.2. 52.2 Independence from unique hardware characteristics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#command-line-interface-cli">2.53. 53 Command line interface (CLI)</a></li>
<li><a class="reference internal" href="#support-local-configuration-changes">2.54. 54 Support local configuration changes</a></li>
<li><a class="reference internal" href="#configuration-tracing">2.55. 55 Configuration tracing</a></li>
<li><a class="reference internal" href="#configuration-language-single-point-of-maintenance">2.56. 56 Configuration language single point of maintenance</a></li>
<li><a class="reference internal" href="#enable-identification-of-data-sets-containing-chunked-data-products">2.57. 57 Enable identification of data sets containing chunked data products</a></li>
<li><a class="reference internal" href="#thread-safe-design-for-algorithms">2.58. 58 Thread-safe design for algorithms</a></li>
<li><a class="reference internal" href="#framework-build-flags">2.59. 59 Framework build flags</a></li>
<li><a class="reference internal" href="#floating-point-environment">2.60. 60 Floating-point environment</a></li>
<li><a class="reference internal" href="#composing-configurations-of-framework-components">2.61. 61 Composing configurations of framework components</a></li>
<li><a class="reference internal" href="#graceful-shutdown-of-framework-program">2.62. 62 Graceful shutdown of framework program</a><ul>
<li><a class="reference internal" href="#graceful-shutdown-for-uncaught-exception">2.62.1. 62.1 Graceful shutdown for uncaught exception</a></li>
<li><a class="reference internal" href="#graceful-shutdown-for-received-signal">2.62.2. 62.2 Graceful shutdown for received signal</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="definitions.html"
                          title="previous chapter"><span class="section-number">1. </span>Definitions</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="platforms.html"
                          title="next chapter"><span class="section-number">3. </span>Supported Platforms</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="sources/requirements.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="platforms.html" title="3. Supported Platforms"
             >next</a> |</li>
        <li class="right" >
          <a href="definitions.html" title="1. Definitions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Phlex framework 0 (7c8bca1) documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">2. </span>Framework requirements</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Fermi Forward Discovery Group, LLC.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>